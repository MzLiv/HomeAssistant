blueprint:
  name: MQTT - Advanced Button Controller
  description: >-
    Create a comprehensive set of automations for a multi-action MQTT device
    that supports device triggers. Define actions for single press, double press, hold, and release events.
  domain: automation
  input:
    device:
      name: MQTT Device

    # === LEFT BUTTON ACTIONS ===
    action_single_left:
      name: (Left) Single Press
      selector: { action: {} }
      default: []
    action_single_left_down:
      name: (Left) Single Press Down
      selector: { action: {} }
      default: []
    action_double_left_down:
      name: (Left) Double Press Down
      selector: { action: {} }
      default: []
    action_hold_left_down:
      name: (Left) Hold
      selector: { action: {} }
      default: []
    action_release_left_down:
      name: (Left) Release
      selector: { action: {} }
      default: []

    # === RIGHT BUTTON ACTIONS ===
    action_single_right:
      name: (Right) Single Press
      selector: { action: {} }
      default: []
    action_single_right_down:
      name: (Right) Single Press Down
      selector: { action: {} }
      default: []
    action_double_right_down:
      name: (Right) Double Press Down
      selector: { action: {} }
      default: []
    action_hold_right_down:
      name: (Right) Hold
      selector: { action: {} }
      default: []
    action_release_right_down:
      name: (Right) Release
      selector: { action: {} }
      default: []

mode: restart

trigger:
  - platform: device
    device_id: !input mqtt_device
    domain: mqtt
    type: action
    subtype: single_left
    id: single_left
  - platform: device
    device_id: !input mqtt_device
    domain: mqtt
    type: action
    subtype: single_right
    id: single_right
  - platform: device
    device_id: !input mqtt_device
    domain: mqtt
    type: action
    subtype: single_left_down
    id: single_left_down
  - platform: device
    device_id: !input mqtt_device
    domain: mqtt
    type: action
    subtype: single_right_down
    id: single_right_down
  - platform: device
    device_id: !input mqtt_device
    domain: mqtt
    type: action
    subtype: double_left_down
    id: double_left_down
  - platform: device
    device_id: !input mqtt_device
    domain: mqtt
    type: action
    subtype: double_right_down
    id: double_right_down
  - platform: device
    device_id: !input mqtt_device
    domain: mqtt
    type: action
    subtype: hold_left_down
    id: hold_left
  - platform: device
    device_id: !input mqtt_device
    domain: mqtt
    type: action
    subtype: hold_right_down
    id: hold_right
  - platform: device
    device_id: !input mqtt_device
    domain: mqtt
    type: action
    subtype: release_left_down
    id: release_left
  - platform: device
    device_id: !input mqtt_device
    domain: mqtt
    type: action
    subtype: release_right_down
    id: release_right

action:
  - choose:
      - conditions: "{{ trigger.id == 'single_left' }}"
